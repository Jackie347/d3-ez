d3.ez={version:"1.5.7",author:"James Saunders",copyright:"Copyright (C) 2015 James Saunders",license:"GPLv3"};d3.ez.radialBarChart=function module(){var m;var n=400;var l=300;var k={top:20,right:20,bottom:20,left:20};var q={ease:"bounce",duration:500};var c="radialBarChart";var g=d3.ez.colors.categorical(4);var d=d3.min([(n-(k.right+k.left)),(l-(k.top+k.bottom))])/2;var o=false;var r=false;var a=[];var f=[];var u=[];var e=null;var s=null;var i=null;var b=0;var t=d3.dispatch("customHover");function p(x){i=d3.values(x)[1].map(function(A){return A.key});e=i.length;b=d*1.025;var v=[];var z=[];var y=d3.max(x.values,function(A){return A.value});f=[];for(var w=0;w<=y;w++){f.push(w)}a=[];a=f;a.push(y+1);u=[0,y+1];s=d3.scale.linear().domain(u).range([0,d])}function h(v){v.each(function(A){p(A);if(!m){m=d3.select(this).append("svg").classed("d3ez",true).classed(c,true);var w=m.append("g").classed("container",true);w.append("g").classed("tickCircles",true);w.append("g").classed("layers",true);w.append("g").classed("spokes",true);w.append("g").classed("axis",true);w.append("circle").classed("outerCircle",true);w.append("g").classed("labels",true)}m.transition().attr({width:n,height:l});m.select(".container").attr("transform","translate("+n/2+","+l/2+")");tickCircles=d3.select(".tickCircles").selectAll("circle").data(f);tickCircles.enter().append("circle").style("fill","none");tickCircles.transition().attr("r",function(D){return s(D)}).ease(q.ease).duration(q.duration);tickCircles.exit().remove();var y=d3.svg.arc().innerRadius(0).outerRadius(function(E,D){return s(E.value)}).startAngle(function(E,D){return(D*2*Math.PI)/e}).endAngle(function(E,D){return((D+1)*2*Math.PI)/e});var x=d3.select(".layers").selectAll("path").data(A.values);x.enter().append("path").style("fill",function(E,D){if(!g){return}return g[D%g.length]}).classed("layer",true).on("mouseover",t.customHover);x.exit().remove();x.transition().ease(q.ease).duration(q.duration).attr("d",y);spokes=d3.select(".spokes").selectAll("line").data(i).enter().append("line").attr("y2",-d).attr("transform",function(E,D){return"rotate("+(D*360/e)+")"});var C=d3.scale.linear().domain(u).range([0,-d]);var z=d3.svg.axis().scale(C).orient("right");if(a){z.tickValues(a)}z=d3.select(".axis").call(z);outerCircle=d3.select(".outerCircle").attr("r",d).style("fill","none");var B=d3.select(".labels");B.append("def").append("path").attr("id","label-path").attr("d","m0 "+-b+" a"+b+" "+b+" 0 1,1 -0.01 0");B.selectAll("text").data(i).enter().append("text").style("text-anchor","middle").style("fill",function(E,D){return r?barColors[D%barColors.length]:null}).append("textPath").attr("xlink:href","#label-path").attr("startOffset",function(E,D){return D*100/e+50/e+"%"}).text(function(D){return o?D.toUpperCase():D})})}h.width=function(v){if(!arguments.length){return n}n=v;d=d3.min([(n-(k.right+k.left)),(l-(k.top+k.bottom))])/2;return this};h.height=function(v){if(!arguments.length){return l}l=v;d=d3.min([(n-(k.right+k.left)),(l-(k.top+k.bottom))])/2;return this};h.margin=function(v){if(!arguments.length){return k}k=v;d=d3.min([(n-(k.right+k.left)),(l-(k.top+k.bottom))])/2;return this};h.radius=function(v){if(!arguments.length){return d}d=v;return this};h.colors=function(v){if(!arguments.length){return g}g=v;return this};h.capitalizeLabels=function(v){if(!arguments.length){return o}o=v;return this};h.domain=function(v){if(!arguments.length){return u}u=v;return this};h.tickValues=function(v){if(!arguments.length){return a}a=v;return this};h.colorLabels=function(v){if(!arguments.length){return r}r=v;return this};h.tickCircleValues=function(v){if(!arguments.length){return f}f=v;return this};h.transition=function(v){if(!arguments.length){return q}q=v;return this};d3.rebind(h,t,"on");return h};d3.ez.circularHeatChart=function module(){var o;var p=400;var m=300;var l={top:20,right:20,bottom:20,left:20};var r={ease:"bounce",duration:500};var b="circularHeatChart";var f=["white","blue"];var c=d3.min([(p-(l.right+l.left)),(m-(l.top+l.bottom))])/2;var e=50;var u=null;var g=[];var k=24;var i=[];var n=24;var d=0;var s=0;var t=d3.dispatch("customHover");function q(v){g=v.map(function(w){return w.key});k=g.length;i=d3.values(v[0].values).map(function(w){return w.key});n=i.length;d=((c-e)/k);d3.map(v).values().forEach(function(w){w.values.forEach(function(x){s=(x.value>s?x.value:s)})});u=[0,s]}function h(v){v.each(function(D){q(D);if(!o){o=d3.select(this).append("svg").classed("d3ez",true).classed(b,true);var y=o.append("g").classed("container",true);y.append("g").classed("rings",true);y.append("g").classed("radialLabels",true);y.append("g").classed("segmentLabels",true)}o.transition().attr({width:p,height:m});o.select(".container").attr("transform","translate("+p/2+","+m/2+")");var C=d3.scale.linear().domain(u).range(f);var A=d3.svg.arc().innerRadius(function(H,G){return e+H.ring*d}).outerRadius(function(H,G){return e+d+H.ring*d}).startAngle(function(H,G){return(G*2*Math.PI)/n}).endAngle(function(H,G){return((G+1)*2*Math.PI)/n});d3.select(".rings").selectAll("g").data(D).enter().append("g").classed("ring",true).on("mouseover",t.customHover);d3.selectAll(".ring").selectAll("path").data(function(H,G){for(j=0;j<n;j++){H.values[j].ring=G}return H.values}).enter().append("path").attr("d",A).attr("fill",function(G){return C(a(G.value))});var z=d3.selectAll(".circularHeat")[0].length;var B=0.01;var F=d3.select(".radialLabels").classed("labels",true);F.selectAll("def").data(g).enter().append("def").append("path").attr("id",function(H,G){return"radialLabelPath"+z+"-"+G}).attr("d",function(I,G){var H=e+((G+0.2)*d);return"m"+H*Math.sin(B)+" -"+H*Math.cos(B)+" a"+H+" "+H+" 0 1 1 -1 0"});F.selectAll("text").data(g).enter().append("text").append("textPath").attr("xlink:href",function(H,G){return"#radialLabelPath"+z+"-"+G}).text(function(G){return G});var E=2;var w=e+(k*d)+E;var x=d3.select(".segmentLabels").classed("labels",true);x.append("def").append("path").attr("id","segmentLabelPath"+z).attr("d","m0 -"+w+" a"+w+" "+w+" 0 1 1 -1 0");x.selectAll("text").data(i).enter().append("text").append("textPath").attr("xlink:href","#segmentLabelPath"+z).attr("startOffset",function(H,G){return G*100/n+"%"}).text(function(G){return G})})}var a=function(v){return v};h.width=function(v){if(!arguments.length){return p}p=v;c=d3.min([(p-(l.right+l.left)),(m-(l.top+l.bottom))])/2;return this};h.height=function(v){if(!arguments.length){return m}m=v;c=d3.min([(p-(l.right+l.left)),(m-(l.top+l.bottom))])/2;return this};h.margin=function(v){if(!arguments.length){return l}l=v;c=d3.min([(p-(l.right+l.left)),(m-(l.top+l.bottom))])/2;return this};h.radius=function(v){if(!arguments.length){return c}c=v;return this};h.innerRadius=function(v){if(!arguments.length){return e}e=v;return this};h.colors=function(v){if(!arguments.length){return f}f=v;return this};h.domain=function(v){if(!arguments.length){return u}u=v;return this};h.accessor=function(v){if(!arguments.length){return a}a=v;return this};d3.rebind(h,t,"on");return h};d3.ez.discreteBarChart=function module(){var k;var n=400;var i=300;var h={top:20,right:20,bottom:20,left:40};var r={ease:"bounce",duration:500};var c="discreteBarChart";var f=d3.ez.colors.categorical(4);var l=0;var d=0;var p=0;var o=null;var s=null;var m=null;var v=null;var b=null;var e=null;var a=null;var t=null;var u=d3.dispatch("customHover");function q(w){d=n-h.left-h.right;p=i-h.top-h.bottom;o=d3.values(w)[0];s=d3.max(w.values,function(x){return x.value});m=d3.values(w)[1].map(function(x){return x.key});v=d3.scale.ordinal().domain(m).rangeRoundBands([0,d],0.1);b=d3.scale.linear().domain([0,s]).range([p,0]);e=d3.svg.axis().scale(v).orient("bottom");a=d3.svg.axis().scale(b).orient("left");t=d3.scale.ordinal().domain(m).range(f)}function g(w){w.each(function(z){q(z);if(!k){k=d3.select(this).append("svg").classed("d3ez",true).classed(c,true);var x=k.append("g").classed("container",true);x.append("g").classed("chart",true);x.append("g").classed("x-axis axis",true);x.append("g").classed("y-axis axis",true)}k.transition().attr({width:n,height:i});k.select(".container").attr({transform:"translate("+h.left+","+h.top+")"});k.select(".x-axis").attr({transform:"translate(0,"+p+")"}).call(e);k.select(".y-axis").call(a);ylabel=k.select(".y-axis").selectAll(".y-label").data([z.key]);ylabel.enter().append("text").classed("y-label",true).attr("transform","rotate(-90)").attr("y",-35).attr("dy",".71em").style("text-anchor","end");ylabel.transition().text(function(C){return(C)});var B=v.rangeBand()/100*l;var A=v.rangeBand()-B;var y=k.select(".chart").selectAll(".bar").data(z.values);y.enter().append("rect").attr("class",function(C){return C.key+" bar"}).attr("fill",function(C){return t(C.key)}).attr({width:A,x:function(D,C){return v(D.key)+B/2},y:p,height:0}).on("mouseover",u.customHover);y.transition().ease(r.ease).duration(r.duration).attr({width:A,x:function(D,C){return v(D.key)+B/2},y:function(D,C){return b(D.value)},height:function(D,C){return p-b(D.value)}});y.exit().transition().style({opacity:0}).remove()})}g.width=function(w){if(!arguments.length){return n}n=w;return this};g.height=function(w){if(!arguments.length){return i}i=w;return this};g.colors=function(w){if(!arguments.length){return f}f=w;return this};g.transition=function(w){if(!arguments.length){return r}r=w;return this};d3.rebind(g,u,"on");return g};d3.ez.groupedBarChart=function module(){var n;var p=400;var m=300;var l={top:20,right:70,bottom:20,left:40};var u={ease:"bounce",duration:500};var d="groupedBarChart";var i=d3.ez.colors.categorical(4);var o=0;var q=null;var r="clustered";var h=0;var s=0;var g=null;var b=[];var v=[];var z=[];var w=0;var e=null;var A=null;var c=null;var f=null;var a=null;var x=null;var y=d3.dispatch("customHover");function t(B){h=p-l.left-l.right;s=m-l.top-l.bottom;g=B.map(function(C){return C.key});b=[];B.map(function(C){return C.values})[0].forEach(function(D,C){b[C]=D.key});v=[];z=[];w=0;d3.map(B).values().forEach(function(C){grp=C.key;C.values.forEach(function(D){v[D.key]=(typeof(v[D.key])==="undefined"?0:v[D.key]);v[D.key]+=D.value;z[grp]=(typeof(z[grp])==="undefined"?0:z[grp]);z[grp]+=D.value;w=(D.value>w?D.value:w)})});e=d3.max(d3.values(z));A=d3.scale.ordinal().rangeRoundBands([0,h],0.1).domain(g);c=d3.scale.linear().range([s,0]).domain([0,(r=="stacked"?e:w)]);f=d3.svg.axis().scale(A).orient("bottom");a=d3.svg.axis().scale(c).orient("left");x=d3.scale.ordinal().range(i).domain(b)}function k(B){B.each(function(G){t(G);if(!n){n=d3.select(this).append("svg").classed("d3ez",true).classed(d,true);var C=n.append("g").classed("container",true);C.append("g").classed("chart",true);C.append("g").classed("x-axis axis",true);C.append("g").classed("y-axis axis",true).append("text").attr("transform","rotate(-90)").attr("y",-35).attr("dy",".71em").style("text-anchor","end").text(q)}n.transition().attr({width:p,height:m});n.select(".container").attr({transform:"translate("+l.left+","+l.top+")"});n.select(".x-axis").attr({transform:"translate(0,"+s+")"}).call(f);n.select(".y-axis").call(a);var I=n.select(".chart").selectAll(".barGroup").data(G);I.enter().append("g").attr("class","barGroup").attr("transform",function(L,K){return"translate("+A(L.key)+", 0)"}).on("mouseover",y.customHover);var D=I.selectAll(".bar").data(function(L){series=[];var K=0;d3.map(L.values).values().forEach(function(N,M){series[M]={name:N.key,value:N.value,y0:K,y1:K+N.value};K+=N.value});return series});if(r=="stacked"){var J=A.rangeBand()/100*o;var H=A.rangeBand()-J;D.enter().append("rect").classed("bar",true).attr("class",function(K){return K.name+" bar"}).attr({width:H,x:0,y:s,height:0}).attr("fill",function(K){return x(K.name)});D.transition().ease(u.ease).duration(u.duration).attr({width:H,x:0,y:function(K){return c(K.y1)},height:function(K){return c(K.y0)-c(K.y1)}}).attr("fill",function(K){return x(K.name)});D.exit().transition().style({opacity:0}).remove()}else{if(r=="clustered"){var E=d3.scale.ordinal().rangeRoundBands([0,A.rangeBand()]).domain(b);D.enter().append("rect").classed("bar",true).attr({width:E.rangeBand(),x:function(K){return E(K.name)},y:s,height:0}).attr("fill",function(K){return x(K.name)});D.transition().ease(u.ease).duration(u.duration).attr({width:E.rangeBand(),x:function(K){return E(K.name)},y:function(K){return c(K.value)},height:function(K){return s-c(K.value)}}).attr("fill",function(K){return x(K.name)});D.exit().transition().style({opacity:0}).remove()}}var F=n.selectAll(".legend").data(b.slice().reverse()).enter().append("g").attr("class","legend").attr("transform",function(L,K){return"translate(0,"+K*20+")"});F.append("rect").attr("x",p-18).attr("width",18).attr("height",18).style("fill",x);F.append("text").attr("x",p-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(K){return K})})}k.width=function(B){if(!arguments.length){return p}p=B;return this};k.height=function(B){if(!arguments.length){return m}m=B;return this};k.margin=function(B){if(!arguments.length){return l}l=B;return this};k.yAxisLabel=function(B){if(!arguments.length){return q}q=B;return this};k.groupType=function(B){if(!arguments.length){return r}r=B;return this};k.transition=function(B){if(!arguments.length){return u}u=B;return this};k.colors=function(B){if(!arguments.length){return i}i=B;return this};d3.rebind(k,y,"on");return k};d3.ez.punchCard=function module(){var i;var k=400;var h=300;var g={top:20,right:80,bottom:20,left:20};var p={ease:"bounce",duration:500};var a="punchCard";var m="steelblue";var b=9;var c=2;var e=d3.format("0000");var l=true;var d=0;var n=0;var r=d3.dispatch("customHover");function o(t){d=k-g.left-g.right;n=h-g.top-g.bottom}function s(u){var t=d3.select(this).node().parentNode;d3.select(t).selectAll("circle").style("display","none");d3.select(t).selectAll("text.value").style("display","block");r.customHover(u)}function q(u){var t=d3.select(this).node().parentNode;d3.select(t).selectAll("circle").style("display","block");d3.select(t).selectAll("text.value").style("display","none")}function f(t){t.each(function(K){if(K.constructor!==Array){K=[K]}o(K);var x=[];var B=0;K.forEach(function(M){x=x.concat(M.values);B++});var v=[];var H=[];var I=0;K.map(function(M){return M.values})[0].forEach(function(N,M){v[M]=N.key});var w=n/B;var y=d3.extent(x,function(M){return M.value});var L=d3.scale.ordinal().domain(v).rangeRoundBands([0,d],1);var A=d3.svg.axis().scale(L).orient("bottom").ticks(K[0].values.length);var J=d3.scale.linear().domain(d3.extent(x,function(M){return M.value})).range([d3.rgb(m).brighter(),d3.rgb(m).darker()]);if(!i){i=d3.select(this).append("svg").classed("d3ez",true).classed(a,true);var C=i.append("g").classed("container",true);C.append("g").classed("chart",true);C.append("g").classed("x-axis axis",true)}i.transition().attr({width:k,height:h});i.select(".container").attr({transform:"translate("+g.left+","+g.top+")"});i.select(".x-axis").attr({transform:"translate(0,"+n+")"}).call(A);for(var F=0;F<K.length;F++){var u=l?y:[0,d3.max(K[F]["values"],function(M){return M.value})];var z=d3.scale.linear().domain(u).range([c,b]);var G=i.select(".chart").append("g");var E=G.selectAll("circle").data(K[F]["values"]).enter().append("circle").attr("cx",function(N,M){return L(N.key)}).attr("cy",(n-w*2)-(F*w)+w).attr("r",function(M){return z(M.value)}).style("fill",function(M){return J(M.value)});var D=G.selectAll("text").data(K[F]["values"]).enter().append("text").attr("y",(n-w*2)-(F*w)+(w+5)).attr("x",function(N,M){return L(N.key)-4}).attr("class","value").text(function(M){return M.value}).style("fill",function(M){return J(M.value)}).style("display","none");G.append("text").attr("y",(n-w*2)-(F*w)+(w+5)).attr("x",d+w).attr("class","label").text(K[F]["key"]).style("fill",function(M){return m}).style("text-anchor","end").on("mouseover",s).on("mouseout",q)}})}f.width=function(t){if(!arguments.length){return k}k=t;return this};f.height=function(t){if(!arguments.length){return h}h=t;return this};f.margin=function(t){if(!arguments.length){return g}g=t;return this};f.minRadius=function(t){if(!arguments.length){return c}c=t;return this};f.maxRadius=function(t){if(!arguments.length){return b}b=t;rowHeight=(b*2)+2;return this};f.color=function(t){if(!arguments.length){return m}m=t;return this};f.useGlobalScale=function(t){if(!arguments.length){return l}l=t;return this};d3.rebind(f,r,"on");return f};d3.ez.timeSeriesChart=function module(){var f;var a=400;var m=300;var c={top:20,right:20,bottom:20,left:40};var h={ease:"bounce",duration:500};var o="timeSeriesChart";var d="steelblue";var e=function(p){return p[0]};var k=function(p){return p[1]};var i=0;var b=0;var g=d3.dispatch("customHover");function n(p){i=a-c.left-c.right;b=m-c.top-c.bottom}function l(p){p.each(function(v){n(v);v=v.map(function(A,z){return[e.call(v,A,z),k.call(v,A,z)]});var x=d3.time.scale().domain(d3.extent(v,function(z){return z[0]})).range([0,i]);var u=d3.scale.linear().domain([0,d3.max(v,function(z){return z[1]})]).range([b,0]);var t=d3.svg.axis().scale(x).orient("bottom").tickSize(6,0);var q=d3.svg.axis().scale(u).orient("left").tickSize(6,6);var s=d3.svg.area().x(function(z){return x(z[0])}).y1(function(z){return u(z[1])});var y=d3.svg.line().x(function(z){return x(z[0])}).y(function(z){return u(z[1])});if(!f){f=d3.select(this).append("svg").classed("d3ez",true).classed(o,true);var r=f.append("g").classed("container-group",true);r.append("path").classed("chart-area-path",true);r.append("path").classed("chart-line-path",true);r.append("g").classed("x-axis-group axis",true);r.append("g").classed("y-axis-group axis",true)}f.attr("width",a).attr("height",m);var w=f.select("g").attr("transform","translate("+c.left+","+c.top+")");w.select(".x-axis-group.axis").attr("transform","translate(0,"+u.range()[0]+")").call(t);w.select(".y-axis-group.axis").call(q);w.select(".chart-area-path").data([v]).attr("d",s.y0(u.range()[0])).attr("fill",d);w.select(".chart-line-path").data([v]).attr("d",y).attr("fill","none")})}l.width=function(p){if(!arguments.length){return a}a=p;return this};l.height=function(p){if(!arguments.length){return m}m=p;return this};l.margin=function(p){if(!arguments.length){return c}c=p;return this};l.x=function(p){if(!arguments.length){return e}e=p;return this};l.y=function(p){if(!arguments.length){return k}k=p;return this};l.color=function(p){if(!arguments.length){return d}d=p;return this};d3.rebind(l,g,"on");return l};d3.ez.donutChart=function module(){var t;var v=400;var s=300;var r={top:20,right:90,bottom:20,left:90};var A={ease:"cubic",duration:300};var e="donutChart";var m=d3.ez.colors.categorical(4);var g=d3.min([(v-(r.right+r.left)),(s-(r.top+r.bottom))])/2;var i=70;var w="#FFF";var u=4;var F=true;var y=20;var C="#333";var x=0;var o="#333";var l=1;var f=[0,0,2,8];var h=16;var c=null;var b=null;var B=null;var q=null;var k=null;var a=null;var E=null;var D=d3.dispatch("customHover");function z(G){c=d3.values(G)[1].map(function(H){return H.value});b=d3.values(G)[1].map(function(H){return H.key});B=d3.scale.ordinal().range(m).domain(b);q=d3.layout.pie().sort(null);k=d3.svg.arc().innerRadius(i).outerRadius(g);a=d3.svg.arc().innerRadius(g*0.9).outerRadius(g*0.9)}function E(H,G){return data.values[G].key}function d(H){var G=d3.interpolate(this._current,H);this._current=G(0);return function(I){return k(G(I))}}function n(G){return G.startAngle+(G.endAngle-G.startAngle)/2}function p(G){G.each(function(J){z(J);I=d3.select(this).select("svg > g");if(I.empty()){var I=d3.select(this).append("svg").classed("d3ez",true).classed(e,true);I.append("g").attr("class","slices").attr("transform","translate("+v/2+","+s/2+")");I.append("g").attr("class","labels").attr("transform","translate("+v/2+","+s/2+")");I.append("g").attr("class","lines").attr("transform","translate("+v/2+","+s/2+")")}I.transition().attr({width:v,height:s});var K=d3.select(".slices").selectAll("path.slice").data(q(c));K.enter().append("path").attr("class","slice").attr("fill",function(N,M){return B(J.values[M].key)}).attr("d",k).each(function(M){this._current=M}).on("mouseover",D.customHover);K.transition().ease(A.ease).duration(A.duration).attrTween("d",d);K.exit().remove();var L=d3.select(".labels").selectAll("text.label").data(q(c),E);L.enter().append("text").attr("class","label").attr("dy",".35em");L.transition().duration(A.duration).text(function(N,M){return J.values[M].key}).attrTween("transform",function(N){this._current=this._current||N;var M=d3.interpolate(this._current,N);this._current=M(0);return function(O){var P=M(O);var Q=a.centroid(P);Q[0]=g*(n(P)<Math.PI?1.2:-1.2);return"translate("+Q+")"}}).styleTween("text-anchor",function(N){this._current=this._current||N;var M=d3.interpolate(this._current,N);this._current=M(0);return function(O){var P=M(O);return n(P)<Math.PI?"start":"end"}});L.exit().remove();var H=d3.select(".lines").selectAll("polyline.line").data(q(c));H.enter().append("polyline").attr("class","line");H.transition().duration(A.duration).attrTween("points",function(N){this._current=this._current||N;var M=d3.interpolate(this._current,N);this._current=M(0);return function(O){var P=M(O);var Q=a.centroid(P);Q[0]=g*0.95*(n(P)<Math.PI?1.2:-1.2);return[k.centroid(P),a.centroid(P),Q]}});H.exit().remove()})}p.width=function(G){if(!arguments.length){return v}v=G;g=d3.min([(v-(r.right+r.left)),(s-(r.top+r.bottom))])/2;return this};p.height=function(G){if(!arguments.length){return s}s=G;g=d3.min([(v-(r.right+r.left)),(s-(r.top+r.bottom))])/2;return this};p.margin=function(G){if(!arguments.length){return r}r=G;g=d3.min([(v-(r.right+r.left)),(s-(r.top+r.bottom))])/2;return this};p.radius=function(G){if(!arguments.length){return g}g=G;return this};p.innerRadius=function(G){if(!arguments.length){return i}i=G;return this};p.colors=function(G){if(!arguments.length){return m}m=G;return this};p.transition=function(G){if(!arguments.length){return A}A=G;return this};d3.rebind(p,D,"on");return p};d3.ez.htmlTable=function module(){var d;var f="htmlTable";var c=800;var b=null;var h=[];var a=d3.dispatch("customHover");function g(i){b=i.map(function(k){return k.key});h=[];i.map(function(k){return k.values})[0].forEach(function(l,k){h[k]=l.key})}function e(i){i.each(function(n){g(n);if(!d){d=d3.select(this).append("table").classed("d3ez",true).classed(f,true).attr("width",c)}else{d.selectAll("*").remove()}var m=d.append("thead");var l=d.append("tfoot");var k=d.append("tbody");hdr=m.append("tr");hdr.selectAll("th").data(function(){return[""].concat(h)}).enter().append("th").html(function(o){return o});rows=k.selectAll("tr").data(n).enter().append("tr").attr("class",function(o){return o.key}).on("mouseover",a.customHover);rows.append("th").html(function(o){return o.key});rows.selectAll("td").data(function(o){return o.values}).enter().append("td").attr("class",function(o){return o.key}).html(function(o){return o.value})})}e.width=function(i){if(!arguments.length){return c}c=i;return this};e.classed=function(i){if(!arguments.length){return f}f=i;return this};d3.rebind(e,a,"on");return e};d3.ez.htmlList=function module(){var b;var d="htmlList";var a=d3.dispatch("customHover");function c(e){e.each(function(g){if(!b){b=d3.select(this).append("ul").classed("d3ez",true).classed(d,true)}else{b.selectAll("*").remove()}b.selectAll("li").data(g).enter().append("li").text(function(i){return i.key}).on("click",f);function f(l){d3.event.stopPropagation();a.customHover(l);if(typeof l.values==="undefined"){return 0}var k=d3.select(this).on("click",h).append("ul");var i=k.selectAll("li").data(l.values).enter().append("li").text(function(m){if(typeof m.value!=="undefined"){return m.key+" : "+m.value}else{return m.key}}).on("click",f)}function h(i){d3.event.stopPropagation();d3.select(this).on("click",f).selectAll("*").remove()}})}c.classed=function(e){if(!arguments.length){return d}d=e;return this};d3.rebind(c,a,"on");return c};d3.ez.labeledNode=function module(){var b="steelblue";var c=1;var h="#000000";var e=0;var d=8;var f=null;var i=10;function g(n,k){var m=a(n);var l=d3.select(this).attr("class","node");l.append("circle").attr("fill-opacity",c).attr("r",m).style("stroke",h).style("stroke-width",e).style("fill",b);l.append("text").text(f).attr("dx",m+2).attr("dy",m+6).style("text-anchor","left").style("font-size",i+"px").attr("class","nodetext")}g.color=function(k){if(!arguments.length){return b}b=k;return this};g.opacity=function(k){if(!arguments.length){return c}c=k;return this};g.radius=function(k){if(!arguments.length){return d}d=k;return this};g.label=function(k){if(!arguments.length){return f}f=k;return this};g.fontSize=function(k){if(!arguments.length){return i}i=k;return this};g.stroke=function(k,l){if(!arguments.length){return e+", "+h}e=k;h=l;return this};function a(k){return(typeof d==="function"?d(k):d)}return g};d3.ez.colors={categorical:function(a){switch(a){case 1:return["#5da5da","#faa43a","#60bd68","#f17cb0","#b2912f","#b276b2","#decf3f","#f15854","#4d4d4d"];case 2:return["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"];case 3:return["#3f51b5","#ff9800","#8bc34a","#9c27b0","#ffeb3b","#03a9f4","#f44336","#009688","#795548"];case 4:return(d3.ez.colors.lumShift(d3.ez.colors.lumShift(d3.ez.colors.categorical(3),-0.8),5.5))}},diverging:function(a){switch(a){case 1:return["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"];case 2:return["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"];case 3:return["#0000ff","#8052fe","#b58bfb","#ddc5f7","#fffff0","#ffcfb4","#ff9e7a","#ff6842","#ff0000"]}},sequential:function(f,g){var k=0.1;var b=(k*g)/2;var m=0-b;var h=d3.scale.linear().domain([1,g]).range([m,b]);var n=[];for(var e=1;e<=g;e++){lum=h(e);f=String(f).replace(/[^0-9a-f]/gi,"");if(f.length<6){f=f[0]+f[0]+f[1]+f[1]+f[2]+f[2]}var a="#";var l;for(var d=0;d<3;d++){l=parseInt(f.substr(d*2,2),16);l=Math.round(Math.min(Math.max(0,l+(l*lum)),255)).toString(16);a+=("00"+l).substr(l.length)}n.push(a)}return n},lumShift:function(c,b){var a=[];c.forEach(function d(h,f){h=String(h).replace(/[^0-9a-f]/gi,"");if(h.length<6){h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2]}b=b||0;var e="#",k,g;for(g=0;g<3;g++){k=parseInt(h.substr(g*2,2),16);k=Math.round(Math.min(Math.max(0,k+(k*b)),255)).toString(16);e+=("00"+k).substr(k.length)}a[f]=e});return a}};